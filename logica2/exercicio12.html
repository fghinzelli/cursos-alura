<canvas id="tela" width="600" height="400"></canvas>
<br>
Escolha uma cor: <input type="color">
<script>
	var tela = document.querySelector('#tela');
	var pincel = tela.getContext('2d');
	var tamanho = 10;
	var desenhar = false;

	pincel.fillStyle = 'gray';
	pincel.fillRect(0, 0, 600, 400);


	tela.onmousemove = desenhaCirculo;
	tela.onmousedown = function() {
		desenhar = true;
	}

	tela.onmouseup = function() {
		desenhar = false;
	}

	function desenhaCirculo(evento) {
		
		if (desenhar) {

			var x = evento.pageX - tela.offsetLeft;
			var y = evento.pageY - tela.offsetTop;

			if (evento.shiftKey && tamanho < 40) {
				tamanho += 5;
			} else if (evento.ctrlKey && tamanho > 10) {
				tamanho -= 5;
			}

			var cor = document.querySelector('input');
			pincel.fillStyle = cor.value;
			pincel.beginPath();
			pincel.arc(x, y, tamanho, 0, 2*3.14);
			pincel.fill();
		}

	}

</script>
